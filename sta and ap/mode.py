icrobot.display.clear()
time.sleep(0.1)
icrobot.display.show_image([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xF0,0x8,0xF8,0x8,0xF0],0)
time.sleep(0.1)
icrobot.display.show_image([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xF0,0x8,0xF8,0x8,0xF0,0x0,0x70,0x88,0x88,0x88,0x70],0)
time.sleep(0.1)
icrobot.display.show_image([0x0,0x0,0x0,0x0,0x0,0x0,0x0,0xF0,0x8,0xF8,0x8,0xF0,0x0,0x70,0x88,0x88,0x88,0x70,0x0,0x70,0x88,0x88,0x88,0x7F],0)
time.sleep(0.1)
icrobot.display.show_image([0xF0,0x8,0xF8,0x8,0xF0,0x0,0x70,0x88,0x88,0x88,0x70,0x0,0x70,0x88,0x88,0x88,0x7E,0x0,0x70,0xA8,0xA8,0xA8,0xB0,0x0],0)
mode_data = [[0x0,0x0,0x0,0x0,0xF8,0x2C,0x26,0x2C,0xF8,0x0,0x0,0x0,0x0,0x0,0x0,0xFE,0x12,0x12,0x12,0xC,0x0,0x0,0x0,0x0],
            [0x0,0xC,0x92,0x92,0x92,0x60,0x0,0x0,0x0,0x2,0x2,0xFE,0x2,0x2,0x0,0x0,0x0,0x0,0xF8,0x2C,0x26,0x2C,0xF8,0x0],
            [0x0,0xFE,0x92,0x92,0x92,0x6C,0x0,0x0,0x0,0xFE,0x80,0x80,0x80,0x80,0x0,0x0,0x0,0x7E,0x80,0x80,0x80,0x80,0x7E,0x0]]
mode_set = ["ap","sta","bluetooth"]
mode_num = -1
while True:
    if icrobot.leftkey.value() == 0:
        while icrobot.leftkey.value() == 0:
            pass
        mode_num = mode_num + 1
        if mode_num > 2:
            mode_num = 0
        icrobot.display.show_image(mode_data[mode_num],0)
    if icrobot.rightkey.value() == 0:
        while icrobot.rightkey.value() == 0:
            pass
        mode_num = mode_num - 1
        if mode_num < 0:
            mode_num = 2
        icrobot.display.show_image(mode_data[mode_num],0)
    if icrobot.mode_flag:
        with open("/mode.txt", "w") as f:
            f.write(mode_set[mode_num])
        reset()